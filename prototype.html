<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Constructor Inheritance</title>
</head>

<body>
    <script>
        /*
        ## Constructor Inheritance
        ● Dalam constructor kita biasanya membuat property baik itu berisi value ataupun function
        ● Di dalam constructor, kita bisa memanggil constructor lain, dengan begitu kita bisa mewarisi semua property yang dibuat di constructor lain tersebut
        ● Untuk memanggil constructor lain, kita bisa menggunakan NamaConstructor.call(this, parameter)
        */
        // Kode : Membuat Constructor Inheritance
        {
            function Employee(firstName) {
                this.firstName = firstName;
                this.sayHello = function (name) {
                    console.log(`Hi ${name}, my name is ${this.firstName}`);
                }
            }

            function Manager(firstName, lastName) {
                Employee.call(this, firstName);
                this.lastName = lastName;
            }

            const createName = new Manager("Fauzan", "Ahmad");
            createName.sayHello("Wahyu");
        }

        /*
        ## Prototype
        ● JavaScript sebelumnya dikenal dengan pemrograman berbasis prototype
        ● Memang agak sedikit membingungkan, dan tidak dipungkiri, banyak sekali yang bingung dengan konsep prototype di JavaScript
        ● Pada chapter ini, kita akan bahas tentang konsep prototype

        ## Prototype Inheritance
        ● Saat kita membuat object dari constructor function, object tersebut disebut instance, semua property (baik itu value atau method), akan berada di dalam instance object nya
        ● Setiap kita membuat sebuah constructor function, maka secara otomatis akan dibuatkan
        prototype nya, misal ketika kita membuat constructor function Person, maka akan ada
        Person.prototype
        ● Saat kita membuat sebuah object instance, secara otomatis object tersebut adalah turunan dari Constructor.prototype nya
        ● Untuk mengakses prototype milih sebuah instance, kita bisa menggunakan __proto__
        */
        // Kode : Object Instance
        {
            const eko = new Person("Fauzan", "Ahmad");
            const aldo = new Person("Aldo", "Januar");

            console.log(eko);
            console.log(aldo);
        }

        /*
        ## Menambah Property ke Prototype
        ● Property mirip object, dimana kita bisa menambah property baik itu value ataupun method
        ● Saat kita menambah sebuah property ke Prototype, secara otomatis, semua object instance yang turunan dari prototype tersebut akan memiliki property tersebut
        */
        // Kode : Menambah Property ke Instance Object
        {
            const fauzan = new Person("Fauzan", "Khannedy");

            // ini hanya instance object fauzan
            fauzan.sayBye = function () {
                console.info("Good Bye");
            }
        }
        // Kode : Menambahkan Property ke Prototype
        {
            Person.prototype.sayBye = function () {
                console.info("Good Bye");
            }

            Person.prototype.run = function () {
                console.info(`${this.firstName} is running`);
            }
        }

        /*
        ## Cara Kerja Prototype Inheritance
        ● Ketika kita mengakses property di object instance, pertama akan di cek apakah di
        ● Bagaimana bisa property di prototype diakses dari object instance? object tersebut terdapat property tersebut atau tidak, jika tidak, maka akan di cek di __proto__ (prototype) nya, jika masih tidak ada, akan di cek lagi di __proto__ (prototype) yang lebih tinggi, begitu seterusnya, sampai berakhir di Object Prototype

        Kode : Cara Kerja Prototype Inheritance
        */

        // =================HERE==================

        {
            /*
            ## Prototype Inheritance
            ● Sekarang kita sudah tahu, bahwa prototype selalu memiliki parent, artinya dia adalah turunan, parent tertinggi adalah Object prototype
            ● Pertanyaannya bagaimana jika kita ingin melakukan inheritance ke Prototype lain?
            ● Hal ini juga bisa dilakukan, namun agak sedikit tricky, karena hal ini, sebenarnya untuk JavaScript modern, tidak direkomendasikan lagi praktek OOP menggunakan Prototype, karena di ES6 sudah dikenalkan kata kunci class yang akan nanti dibahas di chapter tersendiri
    
            Kode : Prototype Inheritance Salah (1)
            */
            function Employee(name) {
                this.name = name;
            }

            function Manager(name) {
                this.name = name;
            }

            Manager.prototype = Employee.prototype;

            Manager.prototype.sayHello = function (name) {
                console.log(`Hello ${name}, my name is Manager ${this.name}`);
            }

            Manager.prototype.sayHello = function (name) {
                console.log(`Hello ${name}, my name is Employee ${this.name}`);
            }
        }
        {
            /*
            ## Kata Kunci Class
            # Membuat Class
            ● Sejak EcmaScript versi 6, diperkenalkan kata kunci baru, yaitu class, ini merupakan kata kunci yang digunakan untuk membuat class di JavaScript
            ● Dengan kata kunci class, kita tidak perlu lagi menggunakan constructor function untuk membuat class
    
            Kode : Membuat Class
            */
            // class Person = {

            // }

            // const fauzan = new Person();
            // console.log(fauzan);
        }

    </script>
</body>

</html>