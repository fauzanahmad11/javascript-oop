<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Error Handling</title>
</head>

<body>
    <script>
        /*
        ## Error Handling
        ● Saat terjadi error di kode program JavaScript, kadang kita tidak ingin program kita berhenti
        ● Di JavaScript, kita bisa menangkap jika terjadi error
        ● Kita bisa menggunakan try catch statement untuk menangkap error
        ● Pada block try, kita akan mencoba mengakses kode program yang bisa menyebabkan error, dan jika terjadi error, block try akan berhenti dan otomatis masuk ke block catch
        ● Jika tidak terjadi error, block catch tidak akan dieksekusi

        ## Kata Kunci finally
        ● Kadang kita ingin melakukan sesuatu entah itu terjadi error ataupun tidak
        ● Dalam try catch, kita bisa menambahkan block finally
        ● Block finally ini akan selalu dieksekusi setelah try catch selesai, entah terjadi error atau tidak, block
        finally akan selalu dieksekusi

        ## Try Finally
        ● Kata kunci finally juga bisa digunakan tanpa perlu menggunakan catch
        ● Biasanya ini digunakan dalam kasus tertentu

        Kode : Error Handling
        */

        console.info("===== Kode : Error Handling =====");
        class MathUtil {
            static sum(...numbers) {
                if (numbers.length === 0) {
                    throw new Error("Total parameter harus lebih dari 0");
                }

                let result = 0;
                for (const number of numbers) {
                    result += number;
                }
                return result;
            }
        }

        try {
            console.log(MathUtil.sum());
            console.log("Kode Block Try Akan Berhenti")
        } catch (error) {
            console.log(`Terjadi error : ${error.message}`);
        }
        console.info("Fauzan. Kode program terus berjalan");


        // Kode : Kata Kunci finally
        console.info("===== Kode : Kata Kunci finally =====");
        try {
            console.log(MathUtil.sum());
            console.log("Kode Block Try Akan Berhenti")
        } catch (error) {
            console.log(`Terjadi error : ${error.message}`);
        } finally {
            console.log(`Kode program selesai`);
        }
        console.log(`JAN JAN`);

        // Kode : Try finally
        console.info("===== Kode : Try finally =====");

        class Counter {
            constructor() {
                this.value = 1;
            }

            next() {
                try {
                    return this.value;
                } finally {
                    this.value++;
                }
            }
        }

        const counter = new Counter();
        console.log(counter.next());
        console.log(counter.next());
        console.log(counter.next());
        console.log(counter.next());
        console.log(counter.next());

    </script>
</body>


</html>